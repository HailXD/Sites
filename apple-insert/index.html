<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Apple Purchase Bookmarklet Generator</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="app-header">
      <h1>Apple Purchase Bookmarklet Generator</h1>
      <p class="sub">Edit entries, preview, and copy the bookmarklet.</p>
    </header>

    <main class="container">
      <section class="panel">
        <h2>Settings</h2>
        <div class="grid">
          <label class="field">
            <span>Publisher / Order ID</span>
            <input id="publisher" type="text" value="ML57AB7TY9" />
          </label>
          <label class="field">
            <span>Date</span>
            <input id="date" type="date" />
          </label>
          <label class="field">
            <span>Currency</span>
            <input id="currency" type="text" value="S$" />
          </label>
        </div>
        <div class="row gap mt-12">
          <button id="export-config" class="btn secondary" title="Download current configuration as JSON">Export Config</button>
          <button id="import-config" class="btn" title="Load configuration from a JSON file">Import Config</button>
          <input id="import-file" type="file" accept="application/json" style="display:none" />
        </div>
      </section>

      <section class="panel">
        <h2>Entries</h2>
        <div id="entries"></div>
        <div class="row between mt-12">
          <button id="add-entry" class="btn">+ Add Entry</button>
          <div class="total">Total: <span id="total-display"></span></div>
        </div>
      </section>

      <section class="panel">
        <h2>Preview</h2>
        <div id="preview" class="preview"></div>
      </section>

      <section class="panel">
        <h2>Bookmarklet</h2>
        <div class="row gap">
          <button id="copy" class="btn">Copy to Clipboard</button>
          <a id="drag-link" class="btn secondary" href="#" draggable="true">Drag to Bookmarks</a>
        </div>
        <textarea id="bookmarklet-output" readonly></textarea>
      </section>
    </main>

    <template id="entry-template">
      <div class="entry">
        <label class="field">
          <span>Image URL</span>
          <input type="url" data-field="image" placeholder="https://...png" />
        </label>
        <label class="field">
          <span>Purchase Label</span>
          <input type="text" data-field="purchaseLabel" placeholder="Stack of Cash" />
        </label>
        <label class="field">
          <span>Game Name</span>
          <input type="text" data-field="gameName" placeholder="8 Ball Pool" />
        </label>
        <label class="field">
          <span>Price</span>
          <input type="number" step="0.01" min="0" data-field="price" placeholder="0.00" />
        </label>
        <button class="btn danger remove-entry" title="Remove entry">Remove</button>
      </div>
    </template>

    <script src="generator.js"></script>
  </body>
  </html>
